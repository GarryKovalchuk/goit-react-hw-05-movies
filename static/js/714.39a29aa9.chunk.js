"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[714],{539:function(t,e,n){n.d(e,{Hq:function(){return l},xc:function(){return f},Y5:function(){return v},Hx:function(){return m},Tg:function(){return u}});var r=n(861),a=n(757),o=n.n(a),c=n(294),i=n.p+"static/media/image01.327cd36903ab7c7a9dec.jpeg";c.Z.defaults.baseURL="https://api.themoviedb.org/3",c.Z.defaults.params={api_key:"2123fea73978ac77fe6a3f347cf7ced6",include_adult:!1};var s="https://image.tmdb.org/t/p/w500",u=function(){var t=(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.Z.get("/trending/all/day?").then((function(t){return t.data.results.map((function(t){var e=t.id,n=t.title,r=t.poster_path;return{id:e,title:n,poster:s+r}}))})).catch((function(t){console.log(t.message)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.Z.get("/search/movie?query=".concat(e)).then((function(t){return t.data.results.map((function(t){var e=t.id,n=t.title,r=t.poster_path;return{id:e,title:n,poster:s+r}}))})).catch((function(t){console.log(t.message)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(t){return c.Z.get("/movie/".concat(t,"?")).then((function(t){var e=t.data,n=e.id,r=e.poster_path,a=e.title,o=e.release_date,c=e.vote_average,i=e.overview,u=e.genres;return{id:n,poster:s+r,title:a,releaseYear:new Date(o).getFullYear(),userScore:Math.round(10*c),overview:i,genres:u}})).catch((function(t){console.log(t.message)}))},f=function(t){return c.Z.get("/movie/".concat(t,"/credits?")).then((function(t){return t.data.cast.map((function(t){var e=t.id,n=t.name,r=t.character,a=t.profile_path;return{id:e,name:n,character:r,photo:a?s+a:i}}))})).catch((function(t){console.log(t.message)}))},m=function(t){return c.Z.get("/movie/".concat(t,"/reviews?")).then((function(t){return t.data.results.map((function(t){return{id:t.id,author:t.author,content:t.content}}))})).catch((function(t){console.log(t.message)}))}},881:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=n(861),a=n(439),o=n(757),c=n.n(o),i=n(791),s=n(87),u=n(689),l=n(539),v={FormDiv:"Movies_FormDiv__CEYk8",Form:"Movies_Form__rKqDz",Input:"Movies_Input__ylMgS",MovButton:"Movies_MovButton__RXMJ-",MovList:"Movies_MovList__+K66U",MovItem:"Movies_MovItem__wmOm2",MovImg:"Movies_MovImg__QqBrY",MovTitle:"Movies_MovTitle__a0Rsf"},f=n(184),m=function(){var t=(0,i.useState)(""),e=(0,a.Z)(t,2),n=e[0],o=e[1],m=(0,i.useState)([]),p=(0,a.Z)(m,2),d=p[0],h=p[1],_=(0,s.lr)(""),g=(0,a.Z)(_,2),M=g[0],x=g[1],w=(0,u.TH)(),Z=M.get("query");(0,i.useEffect)((function(){Z&&(0,l.Hq)(Z).then(h)}),[Z]);var j=function(){var t=(0,r.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,(0,l.Hq)(n);case 3:r=t.sent,h(r),x({query:n}),o("");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:v.FormDiv,children:(0,f.jsxs)("form",{className:v.Form,onSubmit:j,children:[(0,f.jsx)("input",{className:v.Input,type:"text",value:n,onChange:function(t){o(t.target.value)}}),(0,f.jsx)("button",{className:v.MovButton,type:"submit",children:"search"})]})}),d.length>0&&(0,f.jsx)("ul",{className:v.MovList,children:d.map((function(t){var e=t.id,n=t.title,r=t.poster;return(0,f.jsx)("li",{className:v.MovItem,children:(0,f.jsxs)("styled",{className:v.MovieLink,to:"/movies/".concat(e),state:{from:w},children:[(0,f.jsx)("img",{claccName:v.MovImg,src:r,alt:n}),(0,f.jsx)("div",{className:v.MovTitle,children:(0,f.jsx)("h3",{children:n})})]})},e)}))})]})}}}]);
//# sourceMappingURL=714.39a29aa9.chunk.js.map